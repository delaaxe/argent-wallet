{"version":3,"sources":["guardian.service.ts","ethplorer.service.ts","Wallet.tsx","Header.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["web3","Web3","givenProvider","contract","eth","Contract","abi","getBalance","address","a","balance","utils","fromWei","getGuardianCount","methods","guardianCount","call","from","getERC20Balances","params","URLSearchParams","apiKey","url","fetch","response","status","Error","json","result","tokens","balances","map","tokenInfo","symbol","toString","Object","fromEntries","Wallet","useParams","useState","setBalance","setGuardianCount","erc20Balances","setErc20Balances","errors","setErrors","useEffect","message","error","index","Alert","severity","style","marginTop","undefined","CircularProgress","entries","useStyles","makeStyles","theme","grow","flexGrow","title","display","breakpoints","up","search","position","borderRadius","shape","backgroundColor","fade","palette","common","white","marginRight","spacing","marginLeft","width","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","sectionDesktop","sectionMobile","Header","history","useHistory","classes","React","name","setName","className","AppBar","Toolbar","Typography","variant","noWrap","onSubmit","e","stopPropagation","preventDefault","push","InputBase","placeholder","root","input","inputProps","value","onChange","target","App","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.93447bea.chunk.js","sourcesContent":["import Web3 from \"web3\";\nimport abi from \"./guardian.abi.json\";\n\nconst provider = \"https://mainnet.infura.io/v3/7d0d81d0919f4f05b9ab6634be01ee73\";\nexport const web3 = new Web3(Web3.givenProvider || provider);\nconst contractAddress = \"0xFF5A7299ff6f0fbAad9b38906b77d08c0FBdc9A7\";\nconst contract = new web3.eth.Contract(abi as any, contractAddress);\n\nexport const getBalance = async (address: string) => {\n  const balance = await web3.eth.getBalance(address);\n  return web3.utils.fromWei(balance);\n};\n\nexport const getGuardianCount = async (address: string) => {\n  return await contract.methods.guardianCount(address).call({from: address})\n};","import { web3 } from \"./guardian.service\";\n\nconst apiUrl = \"https://api.ethplorer.io\";\n\nexport const getERC20Balances = async (\n  address: string\n): Promise<Record<string, string>> => {\n  const params = new URLSearchParams({ apiKey: \"freekey\" });\n  const url = `${apiUrl}/getAddressInfo/${address}?${params}`;\n\n  const response = await fetch(url);\n  if (response.status === 429) {\n    throw new Error(\"Hit Ethplorer free rate limit, please try again later\");\n  }\n\n  const result = await response.json();\n  if (!result?.tokens) {\n    throw new Error(\"Cannot find ERC20 token balances\");\n  }\n\n  const balances = result.tokens.map(({ balance, tokenInfo }: any) => [\n    tokenInfo.symbol,\n    web3.utils.fromWei(balance.toString()),\n  ]);\n\n  return Object.fromEntries(balances);\n};\n","import { CircularProgress } from \"@material-ui/core\";\nimport { Alert } from \"@material-ui/lab\";\nimport { useEffect, useState } from \"react\";\n\nimport { useParams } from \"react-router-dom\";\nimport { getBalance, getGuardianCount } from \"./guardian.service\";\nimport { getERC20Balances } from \"./ethplorer.service\";\n\nexport const Wallet = () => {\n  const { address } = useParams<{ address?: string }>();\n  const [balance, setBalance] = useState<string | null>();\n  const [guardianCount, setGuardianCount] = useState<number | null>();\n  const [erc20Balances, setErc20Balances] = useState<Record<string, string>>();\n  const [errors, setErrors] = useState<string[]>([]);\n\n  useEffect(() => {\n    (async () => {\n      setErrors([]);\n      if (!address) {\n        return;\n      }\n      try {\n        setBalance(await getBalance(address));\n      } catch (e) {\n        setErrors(errors => [...errors, e.message || e.toString()]);\n        setBalance(null);\n      }\n    })();\n  }, [address]);\n\n  useEffect(() => {\n    (async () => {\n      if (!address) {\n        return;\n      }\n      try {\n        setGuardianCount(await getGuardianCount(address));\n      } catch (e) {\n        setErrors(errors => [...errors, e.message || e.toString()]);\n        setGuardianCount(null);\n      }\n    })();\n  }, [address]);\n\n  useEffect(() => {\n    (async () => {\n      if (!address) {\n        return;\n      }\n      try {\n        setErc20Balances(await getERC20Balances(address));\n      } catch (e) {\n        setErrors(errors => [...errors, e.message || e.toString()]);\n        setErc20Balances({});\n      }\n    })();\n  }, [address]);\n\n  return (\n    <>\n      {errors.map((error, index) => (\n        <Alert severity=\"error\" style={{ marginTop: 30 }} key={index}>\n          {error}\n        </Alert>\n      ))}\n      <h4>Wallet balance</h4>\n      <div>\n        {balance === undefined ? <CircularProgress /> : <>ETH {balance}</>}\n      </div>\n      <h4>Number of guardians</h4>\n      <div>\n        {guardianCount === undefined ? <CircularProgress /> : guardianCount}\n      </div>\n      <h4>ERC20 tokens</h4>\n\n      {erc20Balances === undefined ? (\n        <CircularProgress />\n      ) : (\n        Object.entries(erc20Balances).map(([symbol, balance]) => (\n          <div key={symbol}>\n            {symbol} {balance}\n          </div>\n        ))\n      )}\n    </>\n  );\n};\n","import React from \"react\";\nimport { fade, makeStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  grow: {\n    flexGrow: 1,\n  },\n  title: {\n    display: \"none\",\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"block\",\n    },\n  },\n  search: {\n    position: \"relative\",\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    \"&:hover\": {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: \"100%\",\n    [theme.breakpoints.up(\"sm\")]: {\n      marginLeft: theme.spacing(3),\n      width: \"auto\",\n    },\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: \"100%\",\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  inputRoot: {\n    color: \"inherit\",\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"20ch\",\n    },\n  },\n  sectionDesktop: {\n    display: \"none\",\n    [theme.breakpoints.up(\"md\")]: {\n      display: \"flex\",\n    },\n  },\n  sectionMobile: {\n    display: \"flex\",\n    [theme.breakpoints.up(\"md\")]: {\n      display: \"none\",\n    },\n  },\n}));\n\nexport const Header = () => {\n  const history = useHistory();\n  const classes = useStyles();\n  const [name, setName] = React.useState<string>();\n  const handleChange = ({ target }: React.ChangeEvent<HTMLInputElement>) =>\n    setName(target.value);\n\n  const handleSubmit = (e: React.MouseEvent<HTMLFormElement>) => {\n    e.stopPropagation();\n    e.preventDefault();\n    history.push(`/argent-wallet/${name}`);\n  };\n\n  return (\n    <header className={classes.grow}>\n      <AppBar position=\"static\">\n        <Toolbar>\n            <Typography className={classes.title} variant=\"h6\" noWrap>\n              Argent wallet\n            </Typography>\n          <div className={classes.search}>\n            <div className={classes.searchIcon}>\n              <SearchIcon />\n            </div>\n            <form onSubmit={handleSubmit}>\n              <InputBase\n                placeholder=\"Search…\"\n                classes={{\n                  root: classes.inputRoot,\n                  input: classes.inputInput,\n                }}\n                inputProps={{ \"aria-label\": \"search\" }}\n                value={name}\n                onChange={handleChange}\n              />\n            </form>\n          </div>\n          <div className={classes.grow} />\n        </Toolbar>\n      </AppBar>\n    </header>\n  );\n};\n","import {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport { Wallet } from \"./Wallet\";\nimport { Header } from \"./Header\";\nimport \"./App.css\";\n\nexport const App = () => (\n  <Router>\n    <div className=\"App\">\n      <Header />\n      <main>\n        <Switch>\n          <Route exact path=\"/argent-wallet\">\n            <p>Please search for a wallet</p>\n          </Route>\n          <Route path=\"/argent-wallet/:address\">\n            <Wallet />\n          </Route>\n        </Switch>\n      </main>\n    </div>\n  </Router>\n);\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  BrowserRouter as Router,\n} from \"react-router-dom\";import './index.css';\nimport { App } from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}